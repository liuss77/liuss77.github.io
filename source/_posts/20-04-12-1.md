---
title: 从零开始，斐讯N1搭建单臂主路由
categories: 从零开始
Toc: true
tag: openwrt
translate_title: starting-from-scratch-feixun-n1-builds-a-singlearm-main-route
date: 2020-03-21 00:00:00
---
![alt](/img/0.png)
## 写在前面
1. 最近因为在家的时间太多，无聊得很，就开始研究家里的各种设备，慢慢的就折腾到了路由器上，从零起步，终于，完成了万里长征第一步，成功的把N1盒子设置成了单臂路由。

2. 本文可以说是起到一个搬运汇总的作用，将整个过程中需要的资源汇总到一起，并稍微添加了一些自己的经验。
3. 我只是做了一些微小的工作，感谢原作者的无私奉献。

> 整体流程
1. [降级与刷入固件](#降级与刷入固件)
2. [N1盒子OpenWRT设置](#N1盒子OpenWRT设置)
3. [插件设置](#插件设置)
4. [一些问题的解决方案](#一些问题的解决方案)


## 降级与刷入固件
整体的N1降级与刷入固件流程，恩山论坛里有很多大佬都做了介绍
```
https://www.right.com.cn/forum/thread-3144822-1-1.html
```

在这一过程中需要注意的点只有一个，就是在这位大佬的七八九步上

- 第七步 将OpenWRT固件写入U盘
- 第八步 运行N1盒子激活启动.bat
- 第九步 将N1盒子断电，插上U盘，通电，显示走码

如果你运行U盘启动后，不能成功从U盘启动系统，可以试试我的办法。

> 在写入U盘之后，需要将U盘接入N1盒子，再执行第八步，接着N1盒子会重启，然后直接载入代码，开始运行U盘内的系统。

还有一点小提示是，这位大佬最后运行的代码是将系统写入盒子的emmc内，如果你只是要在U盘里运行系统的话，是不用执行这一步骤的。

## N1盒子OpenWRT设置
我用的固件是f大的30+o v3版，在此感谢f大的固件。

需要注意的是，30+版貌似是有bug的，我最先刷的是30+版，wan口始终无法拨号
```
https://www.right.com.cn/forum/thread-981406-1-1.html
```
这一过程中，具体的操作流程可以看以下视频，说的非常详细，我就不多赘述了。
```
https://www.youtube.com/watch?v=0uNntGhMLvI
```

需要注意的点是，wan口需要小写

## 插件设置

smartDNS
```
https://www.right.com.cn/forum/thread-2621887-1-1.html
```
adguardhome
```
https://www.right.com.cn/forum/thread-2635946-1-1.html
```
docker
```
https://www.right.com.cn/forum/thread-911375-1-1.html
```
## 一些问题的解决方案
> 升级系统

把新版固件写入U盘， 用U盘启动后，连接OpenWrt的wifi,ssh工具连入 192.168.1.1，密码:password ，也可以接上USB键盘，在主屏幕上按回车进入shell ，之后运行:
```
cd /root
./update-to-emmc.sh
```
> 主题

如果主题安装后遇到显示错乱，白屏，无法进入web界面，请不要惊慌，解决方法:
```
opkg list-installed|grep luci-theme #查看已安装的主题
opkg remove XXXXXX #XXXXX为需要卸载的安装包名
reboot #重启即可恢复界面
```

## 最后
是的，还是有最后。

这篇也是从零开始，写的比较早，但是因为发布的晚，就算是第二篇了。

按照这个系列的操行，我还是得说一句，这只是万里长征的第一步，后面的坑还大着呢。

那么，欢迎和我一起入坑。